/* ====================================
   RESPONSIVE UTILITIES & BREAKPOINTS
   ==================================== */

/* Breakpoints */
:root {
    --breakpoint-xs: 375px;
    --breakpoint-sm: 640px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 1024px;
    --breakpoint-xl: 1280px;
    --breakpoint-2xl: 1536px;

    /* Responsive spacing */
    --section-padding: clamp(2rem, 5vw, 6rem);
    --container-padding: clamp(1rem, 3vw, 1.5rem);
}

/* ================
   RESPONSIVE GRID
   ================ */
.responsive-grid {
    display: grid;
    gap: var(--spacing-lg);
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
}

.responsive-grid-2 {
    display: grid;
    gap: var(--spacing-lg);
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
}

.responsive-grid-3 {
    display: grid;
    gap: var(--spacing-lg);
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 250px), 1fr));
}

.responsive-grid-4 {
    display: grid;
    gap: var(--spacing-lg);
    grid-template-columns: repeat(auto-fill, minmax(min(100%, 220px), 1fr));
}

/* ================
   MOBILE NAVIGATION
   ================ */
@media (max-width: 1024px) {
    .navbar-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: min(320px, 85vw);
        height: 100vh;
        flex-direction: column;
        align-items: flex-start;
        background: var(--color-surface);
        box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
        padding: var(--spacing-3xl) var(--spacing-xl);
        gap: var(--spacing-lg);
        transition: right var(--transition-base);
        z-index: 1000;
        overflow-y: auto;
    }

    .navbar-menu.mobile-menu-open {
        right: 0;
    }

    .mobile-menu-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        opacity: 0;
        pointer-events: none;
        transition: opacity var(--transition-base);
        z-index: 999;
    }

    .mobile-menu-overlay.active {
        opacity: 1;
        pointer-events: all;
    }

    .mobile-menu-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background: transparent;
        border: none;
        cursor: pointer;
        z-index: 1001;
    }

    .mobile-menu-close {
        position: absolute;
        top: var(--spacing-lg);
        right: var(--spacing-lg);
        width: 36px;
        height: 36px;
        border-radius: var(--radius-md);
        background: var(--color-background-alt);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
    }

    .navbar-link {
        width: 100%;
        padding: var(--spacing-md);
        border-radius: var(--radius-md);
    }

    .navbar-link::after {
        display: none;
    }

    .navbar-link:hover,
    .navbar-link:active {
        background: var(--color-background-alt);
    }
}

/* ================
   RESPONSIVE HERO
   ================ */
@media (max-width: 768px) {
    .hero {
        min-height: auto;
        padding: var(--spacing-3xl) 0;
    }

    .hero-content {
        max-width: 100%;
    }

    .hero-title {
        font-size: clamp(2rem, 8vw, 3rem) !important;
        margin-bottom: var(--spacing-md);
    }

    .hero-subtitle {
        font-size: var(--text-base);
        margin-bottom: var(--spacing-lg);
    }

    .hero-cta {
        flex-direction: column;
        width: 100%;
    }

    .hero-cta .btn {
        width: 100%;
    }

    .hero-decoration {
        display: none;
    }
}

/* ================
   RESPONSIVE CARDS
   ================ */
@media (max-width: 768px) {
    .product-card {
        max-width: 100%;
    }

    .product-image-wrapper {
        aspect-ratio: 1;
    }

    .product-info {
        padding: var(--spacing-md);
    }

    .product-footer {
        flex-direction: column;
        gap: var(--spacing-md);
        align-items: flex-start;
    }

    .product-footer .btn {
        width: 100%;
    }

    .card-body {
        padding: var(--spacing-md);
    }

    .card-header {
        padding: var(--spacing-md);
    }
}

/* ================
   RESPONSIVE BUTTONS
   ================ */
@media (max-width: 640px) {
    .btn {
        padding: 0.875rem 1.25rem;
        font-size: var(--text-base);
    }

    .btn-lg {
        padding: 1rem 1.5rem;
        font-size: var(--text-lg);
    }

    .btn-sm {
        padding: 0.625rem 1rem;
        font-size: var(--text-sm);
    }
}

/* ================
   RESPONSIVE FORMS
   ================ */
@media (max-width: 640px) {

    .form-input,
    .form-select,
    .form-textarea {
        font-size: 16px;
        /* Prevents zoom on iOS */
        padding: 1rem;
    }

    .form-label {
        font-size: var(--text-base);
    }
}

/* ================
   RESPONSIVE SPACING
   ================ */
@media (max-width: 768px) {
    .section {
        padding: var(--spacing-3xl) 0;
    }

    .section-sm {
        padding: var(--spacing-xl) 0;
    }

    .container {
        padding: 0 var(--spacing-md);
    }

    /* Mobile spacing utilities */
    .gap-lg {
        gap: var(--spacing-md);
    }

    .gap-xl {
        gap: var(--spacing-lg);
    }

    .mb-xl {
        margin-bottom: var(--spacing-lg);
    }

    .mt-xl {
        margin-top: var(--spacing-lg);
    }
}

/* ================
   RESPONSIVE STATS
   ================ */
@media (max-width: 1024px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-md);
    }

    .stat-card {
        padding: var(--spacing-lg);
    }

    .stat-value {
        font-size: clamp(1.5rem, 5vw, 2.5rem);
    }
}

@media (max-width: 480px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }
}

/* ================
   RESPONSIVE MODALS
   ================ */
@media (max-width: 640px) {
    .modal-overlay {
        padding: var(--spacing-sm);
    }

    .modal-content {
        max-width: 100%;
        max-height: 95vh;
        border-radius: var(--radius-xl);
    }

    .modal-header,
    .modal-body {
        padding: var(--spacing-lg);
    }
}

/* ================
   RESPONSIVE IMAGES
   ================ */
img {
    max-width: 100%;
    height: auto;
    display: block;
}

.responsive-img {
    width: 100%;
    height: auto;
    object-fit: cover;
}

/* ================
   TOUCH OPTIMIZATIONS
   ================ */
@media (hover: none) and (pointer: coarse) {

    /* Larger touch targets for mobile */
    .btn,
    .navbar-link,
    .product-action-btn {
        min-height: 44px;
        min-width: 44px;
    }

    /* Remove hover effects on touch devices */
    .product-card:hover {
        transform: none;
    }

    .product-actions {
        opacity: 1;
        transform: translateX(0);
    }

    /* Disable hover animations on touch */
    .btn:hover::before {
        opacity: 0;
    }
}

/* ================
   RESPONSIVE TYPOGRAPHY
   ================ */
@media (max-width: 768px) {
    h1 {
        font-size: clamp(2rem, 6vw, 3rem);
    }

    h2 {
        font-size: clamp(1.75rem, 5vw, 2.5rem);
    }

    h3 {
        font-size: clamp(1.25rem, 4vw, 1.875rem);
    }

    h4 {
        font-size: var(--text-xl);
    }
}

/* ================
   TABLET OPTIMIZATIONS
   ================ */
@media (min-width: 768px) and (max-width: 1024px) {
    .grid-cols-4 {
        grid-template-columns: repeat(2, 1fr);
    }

    .grid-cols-3 {
        grid-template-columns: repeat(2, 1fr);
    }

    .container {
        padding: 0 var(--spacing-lg);
    }
}

/* ================
   LANDSCAPE MOBILE
   ================ */
@media (max-width: 896px) and (orientation: landscape) {
    .hero {
        min-height: auto;
        padding: var(--spacing-xl) 0;
    }

    .section {
        padding: var(--spacing-xxl) 0;
    }
}

/* ================
   ACCESSIBILITY
   ================ */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode */
@media (prefers-contrast: high) {

    .btn-outline,
    .card {
        border-width: 2px;
    }
}

/* ================
   PRINT STYLES
   ================ */
@media print {

    .navbar,
    .footer,
    .floating-action,
    .btn,
    .modal-overlay {
        display: none !important;
    }

    body {
        background: white;
        color: black;
    }

    .container {
        max-width: 100%;
    }
}

/* ================
   UTILITY CLASSES
   ================ */
.hide-mobile {
    display: initial;
}

.show-mobile {
    display: none;
}

@media (max-width: 768px) {
    .hide-mobile {
        display: none !important;
    }

    .show-mobile {
        display: initial !important;
    }
}

.hide-tablet {
    display: initial;
}

.show-tablet {
    display: none;
}

@media (min-width: 768px) and (max-width: 1024px) {
    .hide-tablet {
        display: none !important;
    }

    .show-tablet {
        display: initial !important;
    }
}

/* Text alignment */
@media (max-width: 768px) {
    .text-center-mobile {
        text-align: center;
    }

    .text-left-mobile {
        text-align: left;
    }
}

/* Flex direction */
.flex-col-mobile {
    display: flex;
}

@media (max-width: 768px) {
    .flex-col-mobile {
        flex-direction: column;
    }
}

/* Width utilities */
.w-full {
    width: 100%;
}

.w-auto {
    width: auto;
}

@media (max-width: 768px) {
    .w-full-mobile {
        width: 100% !important;
    }
}

/* Overflow */
.overflow-x-auto {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Safe area for notched devices */
@supports (padding: max(0px)) {
    .container {
        padding-left: max(var(--container-padding), env(safe-area-inset-left));
        padding-right: max(var(--container-padding), env(safe-area-inset-right));
    }

    .navbar-container {
        padding-left: max(var(--spacing-lg), env(safe-area-inset-left));
        padding-right: max(var(--spacing-lg), env(safe-area-inset-right));
    }
}